name: PyTest Coverage
on:
  workflow_call:
    inputs:
      download-path:
        required: true
        type: string
jobs:
  coverage:
    timeout-minutes: 5
    runs-on: ubuntu-latest
    container: mosaicml/pytorch:2.4.0_cpu-python3.11-ubuntu20.04
    steps:
    - name: Checkout Repo
      uses: actions/checkout@v3
    - name: Get composite run steps repository
      uses: actions/checkout@v3
      with:
        repository: mosaicml/ci-testing
        ref: try-again
        path: ./ci-testing
    - uses: ./ci-testing/.github/actions/coverage
      with:
        download-path: ${{ inputs.download-path }}
