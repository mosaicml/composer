{
    "$defs": {
        "MemoryFormat": {
            "oneOf": [
                {
                    "pattern": "(?i)^CHANNELS_LAST$",
                    "type": "string"
                },
                {
                    "pattern": "(?i)^CHANNELS_LAST_3D$",
                    "type": "string"
                },
                {
                    "pattern": "(?i)^CONTIGUOUS_FORMAT$",
                    "type": "string"
                },
                {
                    "pattern": "(?i)^PRESERVE_FORMAT$",
                    "type": "string"
                }
            ]
        }
    },
    "additionalProperties": false,
    "properties": {
        "crop_size": {
            "description": "crop size",
            "type": "integer"
        },
        "datadir": {
            "description": "The path to the data directory",
            "oneOf": [
                {
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ]
        },
        "drop_last": {
            "description": "If the number of samples is not divisible by the batch size,\nwhether to drop the last batch (the default) or pad the last batch with zeros.",
            "type": "boolean"
        },
        "ffcv_cpu_only": {
            "description": "Use cpu for all transformations.",
            "type": "boolean"
        },
        "ffcv_dest": {
            "description": "<file>.ffcv file that has dataset samples",
            "type": "string"
        },
        "ffcv_dir": {
            "description": "A directory containing train/val <file>.ffcv files. If these files don't exist and ffcv_write_dataset is true, train/val <file>.ffcv files will be created in this dir.",
            "type": "string"
        },
        "ffcv_write_dataset": {
            "description": "Whether to create dataset in FFCV format (<file>.ffcv) if it doesn't exist",
            "type": "boolean"
        },
        "is_train": {
            "description": "Whether to load the training data (the default) or validation data.",
            "type": "boolean"
        },
        "resize_size": {
            "description": "resize size. Set to -1 to not resize",
            "type": "integer"
        },
        "shuffle": {
            "description": "Whether to shuffle the dataset for each epoch. Defaults to True.",
            "type": "boolean"
        },
        "synthetic_device": {
            "description": "Device to store the sample pool. Should be `cuda` or `cpu`. Defauls to `cpu`.",
            "type": "string"
        },
        "synthetic_memory_format": {
            "$ref": "#/$defs/MemoryFormat",
            "description": "Memory format. Defaults to contiguous format."
        },
        "synthetic_num_unique_samples": {
            "description": "The number of unique samples to allocate memory for.",
            "type": "integer"
        },
        "use_ffcv": {
            "description": "whether to use ffcv for faster dataloading",
            "type": "boolean"
        },
        "use_synthetic": {
            "description": "Whether to use synthetic data. Defaults to False.",
            "type": "boolean"
        }
    },
    "type": "object"
}
